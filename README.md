*IDEA9103 Individual task yzhu0138 Perlin noise*
![Image](assets/individualpreview.png)
### How to run
Open 1SydneyRailBroadway.html in a web browser.

### How to interact
Click the Mondrian town.
---
## How I applied perlin noise
In my individual task, I was responsible for the Perlin noise component.
Building on the shared codebase, I applied Perlin noise to three areas:
- Breathing halos on railway stations  
- Floating rectangles in the Mondrian town  
- A dynamic ocean system including:  
  - Noise-shaped coastline  
  - Noise-driven particle flow field  

which create motion, rhythm, and natural variation—blending Mondrian geometry with the living pulse of Sydney.
##  1. Railway Stations — Breathing Halos

To enhance the railway network, I added a **Perlin-noise-driven halo animation** to each station.

The noise sampled from *(x, y, time)* controls both radius and transparency:

```js
let n = noise(x * 0.05, y * 0.05, frameCount * 0.02);
let haloR = map(n, 0, 1, dot_R * 1.5, dot_R * 4.4);
let haloA = map(n, 0, 1, 30, 80);
noFill();
stroke(red(col), green(col), blue(col), haloA);
strokeWeight(4);
circle(x, y, haloR);

```

This transforms each static station dot into a **gently breathing, pulsating light**, adding rhythmic energy to the entire map.

---

##  2. Mondrian Town — Floating Blocks

In the Mondrian-inspired town, Perlin noise is used to animate the **drifting movement of rectangles**.

Each block has its own noise seed and calculates drifting offsets every frame:

```js
let xNoise = noise(this.noiseLocation);
let yNoise = noise(this.noiseLocation + 10);
let maxOffset = 20;
let offsetX = (xNoise - 0.5) * 2 * maxOffset * this.noiseScale;
let offsetY = (yNoise - 0.5) * 2 * maxOffset * this.noiseScale;
let cx = this.baseX + offsetX;
let cy = this.baseY + offsetY;
rect(cx - this.w / 2, cy - this.h / 2, this.w, this.h);

this.noiseLocation += 0.018;

```

The result is a **soft floating effect**: blocks gently drift left and right, up and down, injecting a subtle sense of motion into the rigid Mondrian geometry.

---

##  3. Sea — Noise-Shaped Coastline & Particle Flow

### (1) Coastline generated with Perlin noise

The coastline is generated by offsetting points along the vertical axis using Perlin noise:

```js
let n = noise(y * 0.02, tNoise);
let coastX = SEA_X_MIN + coastOffset + (n - 0.5) * 2 * coastAmplitude;
```

This technique produces a **natural, wavering shoreline** that slowly shifts over time, making the sea border feel alive.

---

### (2) Particle flow field driven by 3D noise

The sea is animated using a noise-driven vector field.  
Each particle computes its direction using 3D Perlin noise:

```js
let n = noise(
  p.x * 0.006,
  p.y * 0.006,
  frameCount * 0.01 + p.noiseOffset
);
let angle = n * TWO_PI + PI;
let vx = cos(angle) * p.speed;
let vy = sin(angle) * p.speed;
```

This creates a **smooth, organic water-flow effect**, where each particle moves naturally instead of jittering randomly.

The particles also change color based on horizontal position using a shallow-to-deep ocean gradient, enhancing depth and realism.

---

# My inspiration
**Sea particle flow and coastline**
The right side of the work represents the sea of Sydney. Since the ocean is never still, I experimented with Perlin noise to introduce the movement of water, drifting particles, and a gently undulating coastline. My visual inspiration comes from natural marine phenomena — especially sea mist, suspended micro-particles in seawater, and the swirling, fluid motion created when ink diffuses through water.
![flow particle](assets/particleinwater.avif)
![flow particle](assets/particleinsea.avif)
![coastline](assets/coastline1.avif)

**Halo and station**
The stations are represented as circles, and I used Perlin noise to create subtle, flickering halos around them. These glowing rings symbolize the vibrancy of Sydney’s urban life and evoke the guiding lights that lead trains through the night. The visual inspiration comes from the soft halos of lamps in darkness and the rhythmic shimmer of neon lights.
![halo2](assets/halo2.avif)
![halo1](assets/halo1.avif)

**Floating block**
These floating blocks stem from a geometric abstraction of urban density and movement. They combine Mondrian-inspired color fields, the mosaic structure of data-driven city maps, and the rhythmic patterns seen when viewing buildings from above. Their gentle drifting and tap-to-refresh interaction symbolize the continuous flow of urban energy and the city’s ever-changing vitality.
![cityblock](assets/cityblock3.avif)

---


# Core Techniques — Learning Resources
These are some of the coding techniques I applied beyond the classroom, which I learned through these external resources.

1. **Perlin Noise**
   https://youtu.be/4hqBdpibSRQ  
   *Used for coastline animation.Combines the techniques taught in class for creating noisy shapes and using Perlin noise to animate size variations.*

2. **Flow Field with Perlin Noise**
   https://youtu.be/BjoM9oKOAKY  
   *Used for the ocean particle movement and vector-field simulation.*

3. **Color Interpolation (lerp & lerpColor)**
   https://youtu.be/HQFt6V1pB2I  
   *Used for the ocean gradient from light blue to deep blue.*

4. **Shapes & Vertex Rendering**
   https://youtu.be/M3iI2l0ltbE  
   *Used for generating the dynamically shifting coastline with beginShape()/vertex().*

